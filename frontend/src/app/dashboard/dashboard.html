<!-- ===================== CAMERA PRICING SECTION ===================== -->
<div class="mt-4">

  <div class="d-flex align-items-center justify-content-between">
    <div>
      <h5 class="fw-bold mb-1">Camera Pricing</h5>
      <p class="text-muted mb-0 small">Pricing based on camera range</p>
    </div>
<button type="button" (click)="onLogout()" class="btn btn-outline-danger btn-sm">
  Logout
</button>
</div>


  <!-- Camera Pricing Form -->
  <form class="mt-3" [formGroup]="cameraForm" (ngSubmit)="onAddCameraPricing()">
    <div class="row g-3">

      <!-- ✅ MIN CAMERA -->
      <div class="col-md-3">
        <label class="form-label fw-semibold">Min Camera</label>
        <div class="input-group input-group-lg">
          <span class="input-group-text bg-white">
            <i class="bi bi-camera-video"></i>
          </span>
          <input
            type="number"
            class="form-control"
            placeholder="10"
            formControlName="min_cammera"
            [class.is-invalid]="isInvalid(cameraForm, 'min_cammera')"
          />
          <div class="invalid-feedback">Min camera is required.</div>
        </div>
      </div>

      <!-- ✅ MAX CAMERA -->
      <div class="col-md-3">
        <label class="form-label fw-semibold">Max Camera <span class="text-muted small">(optional)</span></label>
        <div class="input-group input-group-lg">
          <span class="input-group-text bg-white">
            <i class="bi bi-camera-video-fill"></i>
          </span>
          <input
            type="number"
            class="form-control"
            placeholder="20"
            formControlName="max_cammera"
          />
        </div>
        <div class="text-muted small mt-1">
          Leave empty for open range like <b>64+</b>
        </div>
      </div>

      <!-- PROCESSOR -->
      <div class="col-md-3">
        <label class="form-label fw-semibold">Processor</label>
        <div class="input-group input-group-lg">
          <span class="input-group-text bg-white">
            <i class="bi bi-cpu"></i>
          </span>
          <input
            type="text"
            class="form-control"
            placeholder="i7 / Xeon"
            formControlName="Processor"
            [class.is-invalid]="isInvalid(cameraForm, 'Processor')"
          />
          <div class="invalid-feedback">Processor is required.</div>
        </div>
      </div>

      <!-- TOTAL COST -->
      <div class="col-md-3">
        <label class="form-label fw-semibold">Total Cost</label>
        <div class="input-group input-group-lg">
          <span class="input-group-text bg-white">
            <i class="bi bi-currency-rupee"></i>
          </span>
          <input
            type="number"
            class="form-control"
            placeholder="120000"
            formControlName="total_costing"
            [class.is-invalid]="isInvalid(cameraForm, 'total_costing')"
          />
          <div class="invalid-feedback">Cost is required.</div>
        </div>
      </div>

    </div>

    <button
      type="submit"
      class="btn btn-success btn-lg w-100 mt-3 rounded-3"
      [disabled]="loading"
    >
      <span *ngIf="!loading">
        <i class="bi bi-plus-circle me-2"></i> Save Camera Pricing
      </span>

      <span *ngIf="loading">
        <span class="spinner-border spinner-border-sm me-2"></span>
        Saving...
      </span>
    </button>
  </form>

  <!-- ✅ Camera Pricing Table -->
  <div class="table-responsive mt-4">
    <table class="table table-hover align-middle">
      <thead class="table-light">
        <tr>
          <th style="width:60px;">#</th>
          <th>Camera Range</th>
          <th>Processor</th>
          <th>Total Cost</th>
          <th class="text-end" style="width:90px;">Action</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let row of cameraList; let i = index">
          <td class="text-muted">{{ i + 1 }}</td>

          <!-- ✅ Range Display -->
          <td>
            <span class="badge rounded-pill text-bg-primary-subtle text-primary px-3 py-2">
              {{ row.max_cammera ? (row.min_cammera + ' - ' + row.max_cammera) : (row.min_cammera + '+') }}
            </span>
          </td>

          <td class="fw-semibold">{{ row.Processor }}</td>

          <td>
            <div class="fw-semibold">₹ {{ row.total_costing }}</div>
            <div class="text-muted small">Deployment costing</div>
          </td>

          <td class="text-end">
            <button
              class="btn btn-outline-danger btn-sm rounded-3"
              (click)="onDeleteCamera(row.id)"
            >
              <i class="bi bi-trash"></i>
            </button>
          </td>
        </tr>

        <tr *ngIf="!loading && cameraList.length === 0">
          <td colspan="5" class="text-center text-muted py-4">
            No camera pricing records found.
          </td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
